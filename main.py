import streamlit as st
import random # 💫 랜덤 뽑기 기능은 여전히 숨겨진 보너스!

def run_app():
    # 🌈✨ 페이지 설정: 이름부터 반짝반짝! 눈을 뗄 수 없을 거예요! ✨🌈
    st.set_page_config(
        page_title="💖✨ 나의 심쿵 이상형 찾기! 블링블링 에디션 ✨💖",
        page_icon="🤩" # 탭 아이콘도 더 눈에 띄게!
    )

    # 🎀 앱의 메인 제목과 설명: 시작부터 이모지 파티! 🥳
    st.title("💖✨ 나의 심쿵! 블링블링🌟 이상형 연예인 찾아줄게! ✨💖")
    st.write("🎉✨ **두근두근!** 🌟 내 MBTI는 과연 어떤 멋진 왕자님들과 찰떡궁합일까? 🤔 **지금 바로 확인해봐!** ⬇️⬇️⬇️")
    st.markdown("---") # 블링블링 ✨ 구분선!

    # MBTI 유형 리스트 정의
    mbti_types = [
        "두근두근! 💖 나의 MBTI는 과연? (선택해줘! 👇)", # 💖 더 귀엽고 간절한(?) 기본값으로 변경!
        "ISTJ", "ISFJ", "INFJ", "INTJ",
        "ISTP", "ISFP", "INFP", "INTP",
        "ESTP", "ESFP", "ENFP", "ENTP",
        "ESTJ", "ESFJ", "ENFJ", "ENTJ"
    ]

    # 👑 각 MBTI 유형별 심쿵! 이상형 남자 연예인 리스트 (귀염뽀짝 + 블링블링 설명 추가! 💕)
    # ❗ 이 추천은 오직 재미를 위한 예시이며, 실제 인물이나 과학적 근거와는 조금 다르니 😉 가볍게 즐겨주세요! ❗
    ideal_celebrities = {
        "ISTJ": [
            "공유 (성실함은 기본! 🌳 깊이 있는 눈빛으로 나를 사로잡는 마성의 매력남!)",
            "김남길 (책임감 강하고 듬직한 매력! 💼 카리스마 속에 숨겨진 따뜻함)",
            "이진욱 (겉은 차가워 보이지만 속은 따뜻한 츤데레 매력! 🧊 믿음직스러운 오빠美)"
        ],
        "ISFJ": [
            "차은우 (왕자님 비주얼에 따뜻한 마음씨까지! 🌸 나를 세상에서 가장 소중하게 지켜줄 것 같은 보호자형)",
            "박형식 (다정하고 배려심 넘치는 스윗함! 🍬 옆에서 묵묵히 지지해 줄 것 같은 매력)",
            "이종석 (편안하고 포근한 분위기! 🛌 나를 감싸 안아줄 것 같은 따뜻함)"
        ],
        "INFJ": [
            "RM (방탄소년단) (생각만 해도 설레는 🌙 깊고 섬세한 감성을 가진 지성파! 내 얘기에 귀 기울여줄 거야)",
            "강동원 (신비롭고 몽환적인 아우라! ✨ 내면의 깊이를 함께 나눌 수 있는 예술가적 영혼)",
            "이제훈 (지적인 매력과 섬세한 감성! 💡 조용히 나를 이해해 줄 것 같은 현명함)"
        ],
        "INTJ": [
            "이진혁 (시크한 매력 속 숨겨진 따뜻함! 👑 카리스마 넘치는 리더십으로 나를 이끌어줄 똑똑이!)",
            "도경수 (조용하지만 강렬한 카리스마! 🌌 똑 부러지는 판단력으로 나를 올바른 길로 이끌어 줄 현명함)",
            "주지훈 (냉철한 분석력과 통찰력! 🔍 섹시한 뇌섹남의 매력으로 내 마음을 휘어잡을!)"
        ],
        "ISTP": [
            "제이홉 (방탄소년단) (톡톡 튀는 아이디어로 지루할 틈 없는 🌈 자유로운 영혼! 나만의 만능 재주꾼!)",
            "류준열 (꾸밈없이 시크한 매력! 😎 행동으로 보여주는 묵묵한 스타일)",
            "하정우 (자유분방하고 도전적인 에너지를 가진! 🤸‍♂️ 함께라면 어떤 일이든 해낼 것 같은 든든함)"
        ],
        "ISFP": [
            "박보검 (미소 한 번에 심장이 쿵! 💖 부드럽고 다정한 예술가 감성으로 내 마음을 살살 녹여주는 로맨티스트)",
            "원빈 (말없이 챙겨주는 조용한 배려심! 🤫 그림 같은 비주얼로 존재 자체만으로도 심쿵!)",
            "조인성 (감성적이고 섬세한 분위기! 🍂 나만의 비밀을 공유하고 싶은 다정한 오빠)"
        ],
        "INFP": [
            "강하늘 (맑고 순수한 눈망울에 😇 세상을 따뜻하게 바라보는 착한 마음! 함께 있으면 세상이 아름다워 보여)",
            "BTS 진 (따뜻하고 순수한 영혼! 🎀 위로와 공감으로 나를 행복하게 해 줄 왕자님)",
            "성시경 (감성적이고 로맨틱한 매력! 🎶 달콤한 목소리로 나를 위한 세레나데를 불러줄 것 같아)"
        ],
        "INTP": [
            "조승우 (논리적이고 똑 부러지지만, 의외의 허당미로 🤣 나를 웃게 할 천재미 넘치는 매력덩어리!)",
            "이도현 (지적이고 탐구적인 매력! 🧐 함께 깊이 있는 대화를 나누고 싶은 욕심이 나게 하는 남자)",
            "강동원 (신비로운 분위기에 숨겨진 천재성! 🧠 어디로 튈지 모르는 매력이 궁금해!)"
        ],
        "ESTP": [
            "주우재 (어디로 튈지 모르는 ⚡️ 재치와 유머로 나를 즐겁게 해줄 핵인싸! 함께라면 매일이 축제!)",
            "이광수 (유쾌하고 활동적인 에너지가 넘치는! 🤸‍♀️ 항상 나를 즐겁게 해줄 분위기 메이커)",
            "송민호 (다채로운 매력과 뛰어난 재능! 🎨 함께라면 매일이 새롭고 흥미진진할 거야)"
        ],
        "ESFP": [
            "BTS 지민 (세상 모든 사랑스러움을 다 가진 🥰 애교쟁이! 나만 졸졸 따라다니는 귀여운 강아지 같은 매력)",
            "넉살 (유쾌하고 재치 있는 입담! 🗣️ 어디서든 인기 만점인 나의 활력소)",
            "이승기 (밝고 긍정적인 에너지가 넘치는! 🌟 함께 있으면 늘 웃음꽃이 필 것 같은 만능 엔터테이너)"
        ],
        "ENFP": [
            "뷔 (방탄소년단) (통통 튀는 아이디어로 나를 웃게 하고, 💫 예측 불가능한 매력으로 매일매일 설레게 할 사랑둥이!)",
            "헨리 (엉뚱 발랄한 매력으로 나를 즐겁게 해줄! 🚀 상상력이 풍부한 사랑스러운 남자친구)",
            "이동욱 (소년미와 남성미를 넘나드는 반전 매력! 🃏 엉뚱한 매력으로 나를 심쿵하게 만들 거야)"
        ],
        "ENTP": [
            "덱스 (도전 정신으로 가득 찬 🚀 마초미! 함께라면 어떤 어려움도 헤쳐나갈 수 있을 것 같은 든든한 상남자!)",
            "이이경 (재치 있고 유머러스한! 🤣 예상치 못한 드립으로 매일매일 나를 빵 터뜨릴 거야)",
            "장성규 (자유분방하고 재치 있는 천재! 💡 끝없이 새로운 시도를 함께 하고 싶은 아이디어 뱅크)"
        ],
        "ESTJ": [
            "박서준 (어떤 일이든 척척 해내는 💪 믿음직한 리더! 나를 듬직하게 지켜주는 캡틴 아메리카 같은 남자!)",
            "백종원 (확실한 주관과 뛰어난 추진력! 👨‍🍳 든든하고 믿음직스러운 어른스러운 매력)",
            "윤두준 (깔끔하고 책임감 강한! 📝 어떤 일이든 꼼꼼하게 챙겨줄 것 같은 이상적인 남자친구)"
        ],
        "ESFJ": [
            "유재석 (국민 MC답게 사람들에게 사랑받는 인싸! 🤝 나를 세상에서 가장 소중한 사람으로 만들어 줄 다정왕!)",
            "이승기 (긍정적인 에너지와 배려심 넘치는! ✨ 주변 사람들을 잘 챙기는 다정하고 친근한 매력)",
            "박보검 (선한 영향력을 주는 착한 남자! 😇 항상 나를 응원해주고 기운을 북돋아 줄 것 같은 이상형)"
        ],
        "ENFJ": [
            "송강 (만찢남 비주얼에 다정함까지 겸비! ☀️ 나를 온 마음 다해 응원하고 지지해줄 긍정 에너지 넘치는 연인!)",
            "정해인 (따뜻하고 포용력 있는 리더십! 🌳 주변을 편안하게 해주는 매력으로 함께 성장하고 싶어!)",
            "강다니엘 (따뜻하고 적극적으로 소통하는! 💬 사람들을 포용하는 매력으로 함께라면 언제나 행복할 거야)"
        ],
        "ENTJ": [
            "카이 (EXO) (무대 위 카리스마에 반전 귀여움까지! 🎯 내가 꿈꾸는 목표를 함께 이뤄갈 파워풀한 연인!)",
            "김우빈 (강렬한 카리스마와 확고한 주관! 👑 나를 더 나은 방향으로 이끌어 줄 것 같은 듬직함)",
            "김수현 (뛰어난 리더십과 자신감 넘치는! 📈 함께라면 어떤 목표든 달성할 수 있을 것 같은 믿음직함)"
        ]
    }

    # 🎀 MBTI 유형 선택 드롭다운 메뉴 (더욱 예쁘게! 반짝이게!)
    st.subheader("⭐ MBTI 선택하기 ⭐")
    selected_mbti = st.selectbox("👇 요기서 당신의 MBTI를 콕! 집어봐! 👇", mbti_types)
    st.markdown("---") # 또 하나의 블링블링 ✨ 구분선!

    # 🌟 결과 표시 로직: 반짝이는 효과와 함께!
    if selected_mbti != "두근두근! 💖 나의 MBTI는 과연? (선택해줘! 👇)": # 귀여운 기본값 확인
        if selected_mbti in ideal_celebrities:
            st.success(f"💖 와아아! 대박! ✨ 당신의 MBTI 유형 **{selected_mbti}**에 찰떡궁합인 심쿵 이상형 연예인들이 여기에 있어요! 🤩")
            st.balloons() # 🎈🎈🎈 풍선이 팡!팡! 터지는 축하 효과!
            st.snow() # ❄️❄️❄️ 눈송이도 퐁퐁 내려와요!
            st.write(" ") # 한 칸 띄우기!

            st.markdown("### 💘 당신의 심장을 저격할 후보들! 💘")
            st.markdown(" ") # 한 칸 더 띄우기!

            # 🌟 여러 명의 연예인들을 리스트업해서 보여주기! 각 연예인마다 이모지 추가!
            for idx, celeb_info in enumerate(ideal_celebrities[selected_mbti]):
                # 순서 나타내는 귀여운 이모지 추가 (예: 1️⃣, 2️⃣, 3️⃣)
                st.markdown(f"**{idx+1}️⃣ {celeb_info}** 💖")
                st.write(" ") # 각 연예인 사이에 공백 추가로 가독성 높이기

            st.markdown("---") # 블링블링 구분선 다시 등장!

            # 😉 재미를 위한 안내 문구: 더더더 친근하고 귀엽게!
            st.info("💡 **히히!** 이 추천은 그저 재미있는 게임일 뿐이야! 😋 실제로는 희희희희희희희히히히님이 제일 좋아하는 사람이 바로 **최고의 이상형**이겠지? 💕 늘 행복하고 멋진 사랑 찾기를 힁이 열렬히 응원할게! 🥳 힘내! 아자아자! 💪")
        else:
            # 😟 예외 처리 메시지: 실망하지 않게 토닥토닥! ✨이모지와 함께✨
            st.warning("앗! 😅 **이런이런!** 💦 아직 이 MBTI 유형에 대한 이상형 정보가 없어요. 미안해! 😢 혹시 새로운 심쿵! 이상형을 찾아냈다면, 힁에게 살짝 **귀띰해줄래?** 🤫 그럼 얼른 업데이트 해놓을게! 🚀")
    else:
        # 👆 초기 안내 메시지: 시작부터 상냥하고 깜찍하게! ✨
        st.info("☝️ 위에 있는 **예쁜** 드롭다운 메뉴에서 당신의 **MBTI 유형**을 콕! 골라봐! 🌈 **블링블링** 이상형들이 **두근두근** 기다리고 있을 거야! ✨👀")

# 앱 실행
if __name__ == "__main__":
    run_app()
